{"ast":null,"code":"import _objectSpread from\"/opt/app/docling-service/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/UniversalUploader.tsx\nimport React,{useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CATEGORY_OPTIONS=['Clothing','Electricals','Bakeware, Cookware','Dining, Drink, Living','Knives, Cutlery','Food Prep & Tools'];const API_BASE=process.env.REACT_APP_API_BASE||(process.env.REACT_APP_BACKEND_URL?process.env.REACT_APP_BACKEND_URL+'/api':'')||'https://docling-service-u53318.vm.elestio.app/api';console.log('FastAPI Backend URL:',API_BASE);const BORDER_THIN='1px solid #ddd';const INPUT_BASE={width:'100%',padding:'10px',border:BORDER_THIN,borderRadius:'6px',fontSize:'1rem'};const toMessage=e=>e instanceof Error?e.message:String(e);const stripHtml=html=>(html||'').replace(/<[^>]*>/g,'').replace(/\\s+/g,' ').trim();function normaliseExtractResponse(json){var _json$data;if(!json)return[];if(Array.isArray(json===null||json===void 0?void 0:json.products))return json.products;if(Array.isArray(json===null||json===void 0?void 0:(_json$data=json.data)===null||_json$data===void 0?void 0:_json$data.products))return json.data.products;if(Array.isArray(json===null||json===void 0?void 0:json.data))return json.data;return[];}async function postJson(path,body){let timeoutMs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:120000;const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),timeoutMs);try{const res=await fetch(\"\".concat(API_BASE,\"/\").concat(path),{method:'POST',headers:{'Content-Type':'application/json','x-api-key':process.env.REACT_APP_DOCLING_API_KEY||''},body:JSON.stringify(body),signal:controller.signal});clearTimeout(timeoutId);const text=await res.text();console.log(\"[\".concat(path,\"] Response:\"),{status:res.status,text:text.substring(0,200)});let json=null;try{json=JSON.parse(text);}catch(_unused){}if(!res.ok){var _json,_json2;throw new Error(((_json=json)===null||_json===void 0?void 0:_json.error)||((_json2=json)===null||_json2===void 0?void 0:_json2.detail)||\"\".concat(path,\" failed \").concat(res.status));}return json;}catch(error){clearTimeout(timeoutId);if(error.name==='AbortError'){throw new Error('Request timed out. Please try again or contact support.');}throw error;}}async function postForm(path,form){let timeoutMs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:600000;const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),timeoutMs);try{const res=await fetch(\"\".concat(API_BASE,\"/\").concat(path),{method:'POST',headers:{'x-api-key':process.env.REACT_APP_DOCLING_API_KEY||''},body:form,signal:controller.signal});clearTimeout(timeoutId);const text=await res.text();console.log(\"[\".concat(path,\"] Response:\"),{status:res.status,text:text.substring(0,200)});let json=null;try{json=JSON.parse(text);}catch(_unused2){}if(!res.ok){var _json3,_json4;throw new Error(((_json3=json)===null||_json3===void 0?void 0:_json3.error)||((_json4=json)===null||_json4===void 0?void 0:_json4.detail)||\"\".concat(path,\" failed \").concat(res.status));}return json;}catch(error){clearTimeout(timeoutId);if(error.name==='AbortError'){throw new Error('Request timed out. Large files may take up to 10 minutes.');}throw error;}}async function processPDF(file,category,onProgress){console.log('[PDF] Starting...');if(!file)throw new Error('No file selected');if(!category)throw new Error('Please select a category');onProgress('Uploading PDF (this may take 3-7 minutes)...');const formData=new FormData();formData.append('file',file,file.name);const extractJson=await postForm('extract-pdf-products',formData,600000);const products=normaliseExtractResponse(extractJson);if(!products||products.length===0){throw new Error('No products detected in the PDF.');}const productsWithCategory=products.map(p=>_objectSpread(_objectSpread({},p),{},{category}));onProgress(\"Generating brand voice for \".concat(products.length,\" products...\"));const bv=await postJson('generate-brand-voice',{products:productsWithCategory,category},120000);const voiced=Array.isArray(bv===null||bv===void 0?void 0:bv.products)?bv.products:[];if(voiced.length===0){console.warn('[PDF] No brand voice generated');onProgress(\"Processed \".concat(products.length,\" products (brand voice unavailable)\"));return productsWithCategory;}onProgress(\"Successfully processed \".concat(voiced.length,\" products!\"));return voiced;}async function processCSV(file,category,onProgress){console.log('[CSV] Starting...');onProgress('Uploading CSV...');const formData=new FormData();formData.append('file',file,file.name);formData.append('category',category);onProgress('Parsing CSV and generating brand voice...');const result=await postForm('parse-csv',formData,120000);const products=normaliseExtractResponse(result);if(!products||products.length===0){throw new Error('No products found in CSV');}onProgress(\"Successfully processed \".concat(products.length,\" products!\"));return products;}async function processImage(file,category,additionalText,onProgress){console.log('[Image] Starting AI Vision...');onProgress('Uploading image...');const formData=new FormData();formData.append('file',file,file.name);formData.append('category',category);formData.append('additional_text',additionalText);// Add this line\nonProgress('Analyzing image with AI...');const result=await postForm('parse-image',formData,120000);const products=normaliseExtractResponse(result);if(!products||products.length===0){throw new Error('No product info detected in image.');}onProgress(\"Successfully extracted \".concat(products.length,\" products!\"));return products;}async function processSKU(searchParams,category,onProgress){console.log('[SKU] Starting search...');onProgress('Searching for products...');const searchQuery=searchParams.sku||searchParams.barcode||searchParams.ean||searchParams.text||'';const result=await postJson('search-product',{query:searchQuery.trim(),category,search_type:'sku'});const products=normaliseExtractResponse(result);if(!products||products.length===0){throw new Error('No products found');}onProgress(\"Successfully found \".concat(products.length,\" products!\"));return products;}async function processURL(url,category,onProgress){console.log('[URL] Starting scraping...');onProgress('Fetching website...');try{const result=await postJson('scrape-url',{url,category});const products=normaliseExtractResponse(result);if(!products||products.length===0){throw new Error('No products found at URL');}onProgress(\"Successfully scraped \".concat(products.length,\" products!\"));return products;}catch(error){// If it's a 403/blocking error, give helpful message\nif(error.message&&error.message.includes('blocking')){throw new Error('‚ö†Ô∏è This website blocked our scraper.\\n\\nPlease:\\n1. Copy the product details from the website\\n2. Switch to the \"Free Text\" tab\\n3. Paste the information there');}throw error;}}async function processFreeText(text,category,onProgress){console.log('[FreeText] Starting...');onProgress('Processing text...');const result=await postJson('process-text',{text,category});const products=normaliseExtractResponse(result);if(!products||products.length===0){throw new Error('Failed to process text');}onProgress('Successfully processed!');return products;}function exportToCSV(products){const headers=['SKU/Code','Category','Short','Meta','Long'];const rows=products.map(p=>{var _p$descriptions,_p$descriptions2,_p$descriptions3;return[p.sku||'',p.category||'',stripHtml(((_p$descriptions=p.descriptions)===null||_p$descriptions===void 0?void 0:_p$descriptions.shortDescription)||''),stripHtml(((_p$descriptions2=p.descriptions)===null||_p$descriptions2===void 0?void 0:_p$descriptions2.metaDescription)||''),stripHtml(((_p$descriptions3=p.descriptions)===null||_p$descriptions3===void 0?void 0:_p$descriptions3.longDescription)||'')];});const csvContent=[headers.join(','),...rows.map(row=>row.map(cell=>\"\\\"\".concat(String(cell).replace(/\"/g,'\"\"'),\"\\\"\")).join(','))].join('\\n');const blob=new Blob([csvContent],{type:'text/csv'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"products-\".concat(Date.now(),\".csv\");a.click();URL.revokeObjectURL(url);}const CategorySelect=_ref=>{let{id,value,suggested,onChange}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:id,style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{id:id,value:value||'',onChange:e=>onChange(e.target.value),style:_objectSpread({},INPUT_BASE),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Category --\"}),CATEGORY_OPTIONS.map(cat=>/*#__PURE__*/_jsxs(\"option\",{value:cat,children:[cat,\" \",suggested===cat?' ‚≠ê':'']},cat))]})]});};const UniversalUploader=()=>{const[step,setStep]=useState('input');const[activeTab,setActiveTab]=useState('pdf-catalogue');const[selectedFile,setSelectedFile]=useState(null);const[textInput,setTextInput]=useState('');const[imageAdditionalText,setImageAdditionalText]=useState('');const[statusMsg,setStatusMsg]=useState('');const[editingProducts,setEditingProducts]=useState([]);const[preSelectedCategory,setPreSelectedCategory]=useState('');const[searchSKU,setSearchSKU]=useState('');const[searchBarcode,setSearchBarcode]=useState('');const[searchEAN,setSearchEAN]=useState('');const[searchText,setSearchText]=useState('');const fileInputRef=useRef(null);const handleFileChange=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file)setSelectedFile(file);};const handleProcess=async()=>{try{setStep('processing');setStatusMsg('Starting...');let products=[];switch(activeTab){case'pdf-catalogue':if(!selectedFile)throw new Error('No file selected');if(!preSelectedCategory)throw new Error('Please select a category');products=await processPDF(selectedFile,preSelectedCategory,setStatusMsg);break;case'csv':if(!selectedFile)throw new Error('No file selected');if(!preSelectedCategory)throw new Error('Please select a category');products=await processCSV(selectedFile,preSelectedCategory,setStatusMsg);break;case'product-image':if(!selectedFile)throw new Error('No file selected');if(!preSelectedCategory)throw new Error('Please select a category');products=await processImage(selectedFile,preSelectedCategory,imageAdditionalText,setStatusMsg);break;case'manual-codes':if(!preSelectedCategory)throw new Error('Please select a category');products=await processSKU({sku:searchSKU,barcode:searchBarcode,ean:searchEAN,text:searchText},preSelectedCategory,setStatusMsg);break;case'website-url':if(!textInput.trim())throw new Error('No URL entered');if(!preSelectedCategory)throw new Error('Please select a category');products=await processURL(textInput,preSelectedCategory,setStatusMsg);break;case'free-text':if(!textInput.trim())throw new Error('No text entered');if(!preSelectedCategory)throw new Error('Please select a category');products=await processFreeText(textInput,preSelectedCategory,setStatusMsg);break;}const productsWithIds=products.map((p,idx)=>_objectSpread(_objectSpread({},p),{},{id:p.id||\"\".concat(p.sku||'product',\"-\").concat(Date.now(),\"-\").concat(idx)}));setEditingProducts(productsWithIds);setStep('complete');setStatusMsg(\"Successfully processed \".concat(productsWithIds.length,\" product\").concat(productsWithIds.length===1?'':'s',\"!\"));}catch(err){console.error('Processing error:',err);setStep('input');setStatusMsg('');alert(\"Error: \".concat(toMessage(err)));}};const handleExport=()=>exportToCSV(editingProducts);const handleReset=()=>{setStep('input');setSelectedFile(null);setTextInput('');setImageAdditionalText('');setStatusMsg('');setEditingProducts([]);setPreSelectedCategory('');setSearchSKU('');setSearchBarcode('');setSearchEAN('');setSearchText('');if(fileInputRef.current)fileInputRef.current.value='';};const updateProductName=(id,name)=>{setEditingProducts(prev=>prev.map(p=>p.id===id?_objectSpread(_objectSpread({},p),{},{name}):p));};const updateProductSKU=(id,sku)=>{setEditingProducts(prev=>prev.map(p=>p.id===id?_objectSpread(_objectSpread({},p),{},{sku}):p));};const updateProductCategory=(id,category)=>{setEditingProducts(prev=>prev.map(p=>p.id===id?_objectSpread(_objectSpread({},p),{},{category}):p));};const updateProductDescription=(id,field,value)=>{setEditingProducts(prev=>prev.map(p=>p.id===id?_objectSpread(_objectSpread({},p),{},{descriptions:_objectSpread(_objectSpread({},p.descriptions),{},{[field]:value})}):p));};const regenerateProduct=async id=>{const product=editingProducts.find(p=>p.id===id);if(!product||!product.category){alert('Please select a category first');return;}try{setStatusMsg(\"Regenerating product \".concat(product.name||product.sku,\"...\"));const bv=await postJson('generate-brand-voice',{products:[product],category:product.category},120000);const voiced=Array.isArray(bv===null||bv===void 0?void 0:bv.products)?bv.products[0]:null;if(voiced){setEditingProducts(prev=>prev.map(p=>p.id===id?_objectSpread(_objectSpread({},voiced),{},{id}):p));setStatusMsg('Product regenerated successfully!');setTimeout(()=>setStatusMsg(''),3000);}}catch(err){alert(\"Regeneration failed: \".concat(toMessage(err)));}};const tabs=[{key:'pdf-catalogue',label:'PDF Catalogue',icon:'üìÑ'},{key:'csv',label:'CSV Upload',icon:'üìä'},{key:'product-image',label:'Product Image',icon:'üì∏'},{key:'manual-codes',label:'Search Code',icon:'üîç'},{key:'website-url',label:'Website URL',icon:'üåê'},{key:'free-text',label:'Free Text',icon:'üìù'}];const isFileTab=['pdf-catalogue','csv','product-image'].includes(activeTab);const canProcess=(()=>{if(activeTab==='pdf-catalogue'||activeTab==='product-image')return!!selectedFile&&!!preSelectedCategory;if(activeTab==='csv')return!!selectedFile&&!!preSelectedCategory;if(activeTab==='manual-codes')return!!(searchSKU.trim()||searchBarcode.trim()||searchEAN.trim()||searchText.trim())&&!!preSelectedCategory;if(activeTab==='website-url')return!!textInput.trim()&&!!preSelectedCategory;if(activeTab==='free-text')return!!textInput.trim()&&!!preSelectedCategory;return false;})();return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',padding:'2rem',fontFamily:'system-ui, sans-serif'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'3rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/eva.png\",alt:\"Eva Robot\",style:{width:'80px',height:'80px',objectFit:'contain'},onError:e=>{e.currentTarget.style.display='none';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2.5rem',margin:0,color:'#2c3e50'},children:\"Eva\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.2rem',color:'#7f8c8d',margin:'0.5rem 0 0'},children:\"Enhanced Virtual Assistant\"})]})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.1rem',color:'#555'},children:\"Upload your product data and generate professional descriptions with brand voice\"})]}),step==='input'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'8px',marginBottom:'1.5rem',flexWrap:'wrap'},children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setActiveTab(tab.key);setSelectedFile(null);setTextInput('');setImageAdditionalText('');if(activeTab==='manual-codes'){setSearchSKU('');setSearchBarcode('');setSearchEAN('');setSearchText('');}setPreSelectedCategory('');if(fileInputRef.current)fileInputRef.current.value='';},style:{padding:'10px 16px',border:activeTab===tab.key?'2px solid #3498db':BORDER_THIN,background:activeTab===tab.key?'#e3f2fd':'white',borderRadius:'6px',cursor:'pointer',fontWeight:activeTab===tab.key?600:400,color:activeTab===tab.key?'#2c3e50':'#666',transition:'all 0.2s ease',fontSize:'0.95rem'},children:[tab.icon,\" \",tab.label]},tab.key))}),/*#__PURE__*/_jsx(CategorySelect,{id:\"pre-category\",value:preSelectedCategory,onChange:val=>setPreSelectedCategory(val)}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem'},children:[isFileTab&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:activeTab==='pdf-catalogue'?'application/pdf':activeTab==='csv'?'.csv':'image/*',onChange:handleFileChange,style:{display:'none'},id:\"file-upload\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload\",style:{display:'block',padding:'3rem',border:'2px dashed #bdc3c7',borderRadius:'8px',textAlign:'center',cursor:'pointer',background:selectedFile?'#ecf0f1':'#f9f9f9',transition:'all 0.2s ease'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',marginBottom:'0.5rem'},children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.1rem',marginBottom:'0.5rem',color:'#2c3e50',fontWeight:500},children:selectedFile?\"Selected: \".concat(selectedFile.name):'Click to upload or drag and drop'}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.9rem',color:'#7f8c8d'},children:[activeTab==='pdf-catalogue'&&'PDF files up to 50MB',activeTab==='csv'&&'CSV files',activeTab==='product-image'&&'JPG, PNG, or other image formats']})]}),activeTab==='product-image'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Additional Product Information (optional):\"}),/*#__PURE__*/_jsx(\"textarea\",{value:imageAdditionalText,onChange:e=>setImageAdditionalText(e.target.value),placeholder:\"Add any extra product details, features, or specifications not visible in the image...\",rows:4,style:_objectSpread(_objectSpread({},INPUT_BASE),{},{resize:'vertical'})})]})]}),!isFileTab&&activeTab==='manual-codes'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.95rem',color:'#666',marginBottom:'0.5rem'},children:\"Enter at least one search criterion to find products:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"SKU:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchSKU,onChange:e=>setSearchSKU(e.target.value),placeholder:\"e.g., SKU123\",style:_objectSpread({},INPUT_BASE)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Barcode:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchBarcode,onChange:e=>setSearchBarcode(e.target.value),placeholder:\"e.g., 1234567890123\",style:_objectSpread({},INPUT_BASE)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"EAN:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchEAN,onChange:e=>setSearchEAN(e.target.value),placeholder:\"e.g., 5012345678900\",style:_objectSpread({},INPUT_BASE)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Text Search:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchText,onChange:e=>setSearchText(e.target.value),placeholder:\"e.g., product name or description\",style:_objectSpread({},INPUT_BASE)})]})]}),!isFileTab&&activeTab!=='manual-codes'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{value:textInput,onChange:e=>setTextInput(e.target.value),placeholder:activeTab==='website-url'?'Enter product URL\\nExample: http://example.com/product/12345':'Enter product description or details...',rows:8,style:_objectSpread(_objectSpread({},INPUT_BASE),{},{resize:'vertical'})}),activeTab==='website-url'&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.85rem',color:'#e67e22',marginTop:'0.5rem',lineHeight:'1.4'},children:[\"\\u26A0\\uFE0F \",/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Some websites block automated scraping for security. If scraping fails, please use the \",/*#__PURE__*/_jsx(\"strong\",{children:\"Free Text\"}),\" tab to paste product details manually.\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleProcess,disabled:!canProcess,style:{marginTop:'1.5rem',padding:'12px 32px',border:'none',borderRadius:'6px',background:canProcess?'#27ae60':'#bdc3c7',color:'#fff',cursor:canProcess?'pointer':'not-allowed',fontSize:'1rem',fontWeight:600,transition:'all 0.2s ease'},children:\"Process\"})]}),step==='processing'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem',display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExport,disabled:!editingProducts.length,style:{background:'#2c3e50',color:'white',border:'none',padding:'10px 16px',borderRadius:'6px',cursor:editingProducts.length?'pointer':'not-allowed',fontWeight:600},children:\"Export CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,style:{background:'#e0e0e0',color:'#2c3e50',border:'none',padding:'10px 16px',borderRadius:'6px',cursor:'pointer',fontWeight:600},children:\"Reset\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#27ae60',marginBottom:'1rem',fontSize:'1.1rem',fontWeight:500},children:[\"\\u2713 \",statusMsg]}),editingProducts.map((product,idx)=>{var _product$descriptions,_product$descriptions2,_product$descriptions3;return/*#__PURE__*/_jsxs(\"div\",{style:{border:BORDER_THIN,borderRadius:'8px',padding:'1.5rem',marginBottom:'1.5rem',background:'#f9f9f9'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{marginTop:0,marginBottom:'1rem',color:'#333'},children:[\"Product \",idx+1]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:product.name,onChange:e=>updateProductName(product.id,e.target.value),style:_objectSpread({},INPUT_BASE)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"SKU:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:product.sku,onChange:e=>updateProductSKU(product.id,e.target.value),style:_objectSpread({},INPUT_BASE)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CategorySelect,{id:\"category-\".concat(product.id),value:product.category,onChange:val=>updateProductCategory(product.id,val)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>regenerateProduct(product.id),style:{marginTop:'0.5rem',padding:'8px 16px',background:'#3498db',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontWeight:600,fontSize:'0.9rem'},children:\"\\uD83D\\uDD04 Regenerate with Category\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Short Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:((_product$descriptions=product.descriptions)===null||_product$descriptions===void 0?void 0:_product$descriptions.shortDescription)||'',onChange:e=>updateProductDescription(product.id,'shortDescription',e.target.value),rows:3,style:_objectSpread(_objectSpread({},INPUT_BASE),{},{resize:'vertical'})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Meta Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:((_product$descriptions2=product.descriptions)===null||_product$descriptions2===void 0?void 0:_product$descriptions2.metaDescription)||'',onChange:e=>updateProductDescription(product.id,'metaDescription',e.target.value),rows:2,style:_objectSpread(_objectSpread({},INPUT_BASE),{},{resize:'vertical'})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500,display:'block',marginBottom:'4px'},children:\"Long Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:((_product$descriptions3=product.descriptions)===null||_product$descriptions3===void 0?void 0:_product$descriptions3.longDescription)||'',onChange:e=>updateProductDescription(product.id,'longDescription',e.target.value),rows:6,style:_objectSpread(_objectSpread({},INPUT_BASE),{},{resize:'vertical'})})]})]})]},product.id);})]})]});};export default UniversalUploader;","map":{"version":3,"names":["React","useRef","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CATEGORY_OPTIONS","API_BASE","process","env","REACT_APP_API_BASE","REACT_APP_BACKEND_URL","console","log","BORDER_THIN","INPUT_BASE","width","padding","border","borderRadius","fontSize","toMessage","e","Error","message","String","stripHtml","html","replace","trim","normaliseExtractResponse","json","_json$data","Array","isArray","products","data","postJson","path","body","timeoutMs","arguments","length","undefined","controller","AbortController","timeoutId","setTimeout","abort","res","fetch","concat","method","headers","REACT_APP_DOCLING_API_KEY","JSON","stringify","signal","clearTimeout","text","status","substring","parse","_unused","ok","_json","_json2","error","detail","name","postForm","form","_unused2","_json3","_json4","processPDF","file","category","onProgress","formData","FormData","append","extractJson","productsWithCategory","map","p","_objectSpread","bv","voiced","warn","processCSV","result","processImage","additionalText","processSKU","searchParams","searchQuery","sku","barcode","ean","query","search_type","processURL","url","includes","processFreeText","exportToCSV","rows","_p$descriptions","_p$descriptions2","_p$descriptions3","descriptions","shortDescription","metaDescription","longDescription","csvContent","join","row","cell","blob","Blob","type","URL","createObjectURL","a","document","createElement","href","download","Date","now","click","revokeObjectURL","CategorySelect","_ref","id","value","suggested","onChange","style","marginBottom","children","htmlFor","fontWeight","display","target","cat","UniversalUploader","step","setStep","activeTab","setActiveTab","selectedFile","setSelectedFile","textInput","setTextInput","imageAdditionalText","setImageAdditionalText","statusMsg","setStatusMsg","editingProducts","setEditingProducts","preSelectedCategory","setPreSelectedCategory","searchSKU","setSearchSKU","searchBarcode","setSearchBarcode","searchEAN","setSearchEAN","searchText","setSearchText","fileInputRef","handleFileChange","_e$target$files","files","handleProcess","productsWithIds","idx","err","alert","handleExport","handleReset","current","updateProductName","prev","updateProductSKU","updateProductCategory","updateProductDescription","field","regenerateProduct","product","find","tabs","key","label","icon","isFileTab","canProcess","maxWidth","margin","fontFamily","textAlign","alignItems","justifyContent","gap","src","alt","height","objectFit","onError","currentTarget","color","flexWrap","tab","onClick","background","cursor","transition","val","marginTop","ref","accept","placeholder","resize","flexDirection","lineHeight","disabled","_product$descriptions","_product$descriptions2","_product$descriptions3"],"sources":["/opt/app/docling-service/frontend/src/components/UniversalUploader.tsx"],"sourcesContent":["// src/components/UniversalUploader.tsx\nimport React, { useRef, useState } from 'react';\n\ntype Product = {\n  id: string;\n  name: string;\n  brand: string;\n  sku: string;\n  category?: string;\n  source?: string;\n  specifications?: Record<string, any>;\n  features?: string[];\n  descriptions?: {\n    shortDescription: string;\n    longDescription: string;\n    metaDescription: string;\n  };\n  price?: string | null;\n};\n\ntype Step = 'input' | 'processing' | 'complete';\ntype Tab = 'pdf-catalogue' | 'csv' | 'product-image' | 'manual-codes' | 'website-url' | 'free-text';\n\ntype Category =\n  | 'Clothing'\n  | 'Electricals'\n  | 'Bakeware, Cookware'\n  | 'Dining, Drink, Living'\n  | 'Knives, Cutlery'\n  | 'Food Prep & Tools';\n\nconst CATEGORY_OPTIONS: readonly Category[] = [\n  'Clothing',\n  'Electricals',\n  'Bakeware, Cookware',\n  'Dining, Drink, Living',\n  'Knives, Cutlery',\n  'Food Prep & Tools',\n] as const;\n\nconst API_BASE = \n  process.env.REACT_APP_API_BASE ||\n  (process.env.REACT_APP_BACKEND_URL ? process.env.REACT_APP_BACKEND_URL + '/api' : '') ||\n  'https://docling-service-u53318.vm.elestio.app/api';\n\nconsole.log('FastAPI Backend URL:', API_BASE);\n\nconst BORDER_THIN = '1px solid #ddd';\nconst INPUT_BASE = {\n  width: '100%',\n  padding: '10px',\n  border: BORDER_THIN,\n  borderRadius: '6px',\n  fontSize: '1rem',\n} as const;\n\nconst toMessage = (e: unknown) => (e instanceof Error ? e.message : String(e));\n\nconst stripHtml = (html: string) => (html || '').replace(/<[^>]*>/g, '').replace(/\\s+/g, ' ').trim();\n\nfunction normaliseExtractResponse(json: any): any[] {\n  if (!json) return [];\n  if (Array.isArray(json?.products)) return json.products;\n  if (Array.isArray(json?.data?.products)) return json.data.products;\n  if (Array.isArray(json?.data)) return json.data;\n  return [];\n}\n\nasync function postJson(path: string, body: any, timeoutMs: number = 120000) {\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), timeoutMs);\n\n  try {\n    const res = await fetch(`${API_BASE}/${path}`, {\n      method: 'POST',\n      headers: { \n        'Content-Type': 'application/json',\n        'x-api-key': process.env.REACT_APP_DOCLING_API_KEY || '',\n      },\n      body: JSON.stringify(body),\n      signal: controller.signal,\n    });\n\n    clearTimeout(timeoutId);\n    const text = await res.text();\n    console.log(`[${path}] Response:`, { status: res.status, text: text.substring(0, 200) });\n\n    let json: any = null;\n    try { json = JSON.parse(text); } catch {}\n\n    if (!res.ok) {\n      throw new Error(json?.error || json?.detail || `${path} failed ${res.status}`);\n    }\n    return json;\n  } catch (error: any) {\n    clearTimeout(timeoutId);\n    if (error.name === 'AbortError') {\n      throw new Error('Request timed out. Please try again or contact support.');\n    }\n    throw error;\n  }\n}\n\nasync function postForm(path: string, form: FormData, timeoutMs: number = 600000) {\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), timeoutMs);\n\n  try {\n    const res = await fetch(`${API_BASE}/${path}`, {\n      method: 'POST',\n      headers: {\n        'x-api-key': process.env.REACT_APP_DOCLING_API_KEY || '',\n      },\n      body: form,\n      signal: controller.signal,\n    });\n\n    clearTimeout(timeoutId);\n    const text = await res.text();\n    console.log(`[${path}] Response:`, { status: res.status, text: text.substring(0, 200) });\n\n    let json: any = null;\n    try { json = JSON.parse(text); } catch {}\n\n    if (!res.ok) {\n      throw new Error(json?.error || json?.detail || `${path} failed ${res.status}`);\n    }\n    return json;\n  } catch (error: any) {\n    clearTimeout(timeoutId);\n    if (error.name === 'AbortError') {\n      throw new Error('Request timed out. Large files may take up to 10 minutes.');\n    }\n    throw error;\n  }\n}\n\nasync function processPDF(file: File, category: Category, onProgress: (msg: string) => void): Promise<Product[]> {\n  console.log('[PDF] Starting...');\n  if (!file) throw new Error('No file selected');\n  if (!category) throw new Error('Please select a category');\n\n  onProgress('Uploading PDF (this may take 3-7 minutes)...');\n\n  const formData = new FormData();\n  formData.append('file', file, file.name);\n\n  const extractJson = await postForm('extract-pdf-products', formData, 600000);\n  const products = normaliseExtractResponse(extractJson);\n  \n  if (!products || products.length === 0) {\n    throw new Error('No products detected in the PDF.');\n  }\n\n  const productsWithCategory = products.map(p => ({ ...p, category }));\n  onProgress(`Generating brand voice for ${products.length} products...`);\n\n  const bv = await postJson('generate-brand-voice', { products: productsWithCategory, category }, 120000);\n  const voiced = Array.isArray(bv?.products) ? bv.products : [];\n\n  if (voiced.length === 0) {\n    console.warn('[PDF] No brand voice generated');\n    onProgress(`Processed ${products.length} products (brand voice unavailable)`);\n    return productsWithCategory;\n  }\n\n  onProgress(`Successfully processed ${voiced.length} products!`);\n  return voiced;\n}\n\nasync function processCSV(file: File, category: Category, onProgress: (msg: string) => void): Promise<Product[]> {\n  console.log('[CSV] Starting...');\n  onProgress('Uploading CSV...');\n\n  const formData = new FormData();\n  formData.append('file', file, file.name);\n  formData.append('category', category);\n\n  onProgress('Parsing CSV and generating brand voice...');\n  const result = await postForm('parse-csv', formData, 120000);\n  const products = normaliseExtractResponse(result);\n\n  if (!products || products.length === 0) {\n    throw new Error('No products found in CSV');\n  }\n\n  onProgress(`Successfully processed ${products.length} products!`);\n  return products;\n}\n\nasync function processImage(file: File, category: Category, additionalText: string, onProgress: (msg: string) => void): Promise<Product[]> {\n  console.log('[Image] Starting AI Vision...');\n  onProgress('Uploading image...');\n\n  const formData = new FormData();\n  formData.append('file', file, file.name);\n  formData.append('category', category);\n  formData.append('additional_text', additionalText);  // Add this line\n\n  onProgress('Analyzing image with AI...');\n  const result = await postForm('parse-image', formData, 120000);\n  const products = normaliseExtractResponse(result);\n\n  if (!products || products.length === 0) {\n    throw new Error('No product info detected in image.');\n  }\n\n  onProgress(`Successfully extracted ${products.length} products!`);\n  return products;\n}\n\nasync function processSKU(searchParams: { sku?: string; barcode?: string; ean?: string; text?: string }, category: Category, onProgress: (msg: string) => void): Promise<Product[]> {\n  console.log('[SKU] Starting search...');\n  onProgress('Searching for products...');\n\n  const searchQuery = searchParams.sku || searchParams.barcode || searchParams.ean || searchParams.text || '';\n\n  const result = await postJson('search-product', { query: searchQuery.trim(), category, search_type: 'sku' });\n  const products = normaliseExtractResponse(result);\n\n  if (!products || products.length === 0) {\n    throw new Error('No products found');\n  }\n\n  onProgress(`Successfully found ${products.length} products!`);\n  return products;\n}\n\nasync function processURL(url: string, category: Category, onProgress: (msg: string) => void): Promise<Product[]> {\n  console.log('[URL] Starting scraping...');\n  onProgress('Fetching website...');\n\n  try {\n    const result = await postJson('scrape-url', { url, category });\n    const products = normaliseExtractResponse(result);\n\n    if (!products || products.length === 0) {\n      throw new Error('No products found at URL');\n    }\n\n    onProgress(`Successfully scraped ${products.length} products!`);\n    return products;\n  } catch (error: any) {\n    // If it's a 403/blocking error, give helpful message\n    if (error.message && error.message.includes('blocking')) {\n      throw new Error('‚ö†Ô∏è This website blocked our scraper.\\n\\nPlease:\\n1. Copy the product details from the website\\n2. Switch to the \"Free Text\" tab\\n3. Paste the information there');\n    }\n    throw error;\n  }\n}\nasync function processFreeText(text: string, category: Category, onProgress: (msg: string) => void): Promise<Product[]> {\n  console.log('[FreeText] Starting...');\n  onProgress('Processing text...');\n\n  const result = await postJson('process-text', { text, category });\n  const products = normaliseExtractResponse(result);\n\n  if (!products || products.length === 0) {\n    throw new Error('Failed to process text');\n  }\n\n  onProgress('Successfully processed!');\n  return products;\n}\n\nfunction exportToCSV(products: Product[]) {\n  const headers = ['SKU/Code', 'Category', 'Short', 'Meta', 'Long'];\n  const rows = products.map(p => [\n    p.sku || '',\n    p.category || '',\n    stripHtml(p.descriptions?.shortDescription || ''),\n    stripHtml(p.descriptions?.metaDescription || ''),\n    stripHtml(p.descriptions?.longDescription || ''),\n  ]);\n\n  const csvContent = [\n    headers.join(','),\n    ...rows.map(row => row.map(cell => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(',')),\n  ].join('\\n');\n\n  const blob = new Blob([csvContent], { type: 'text/csv' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `products-${Date.now()}.csv`;\n  a.click();\n  URL.revokeObjectURL(url);\n}\n\nconst CategorySelect: React.FC<{ id: string; value?: string; suggested?: string; onChange: (val: string) => void; }> = ({ id, value, suggested, onChange }) => (\n  <div style={{ marginBottom: '0.5rem' }}>\n    <label htmlFor={id} style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Category:</label>\n    <select id={id} value={value || ''} onChange={(e) => onChange(e.target.value)} style={{ ...INPUT_BASE }}>\n      <option value=\"\">-- Select Category --</option>\n      {CATEGORY_OPTIONS.map((cat) => (\n        <option key={cat} value={cat}>{cat} {suggested === cat ? ' ‚≠ê' : ''}</option>\n      ))}\n    </select>\n  </div>\n);\n\nconst UniversalUploader: React.FC = () => {\n  const [step, setStep] = useState<Step>('input');\n  const [activeTab, setActiveTab] = useState<Tab>('pdf-catalogue');\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [textInput, setTextInput] = useState('');\n  const [imageAdditionalText, setImageAdditionalText] = useState('');\n  const [statusMsg, setStatusMsg] = useState('');\n  const [editingProducts, setEditingProducts] = useState<Product[]>([]);\n  const [preSelectedCategory, setPreSelectedCategory] = useState<Category | ''>('');\n  const [searchSKU, setSearchSKU] = useState('');\n  const [searchBarcode, setSearchBarcode] = useState('');\n  const [searchEAN, setSearchEAN] = useState('');\n  const [searchText, setSearchText] = useState('');\n\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) setSelectedFile(file);\n  };\n\n  const handleProcess = async () => {\n    try {\n      setStep('processing');\n      setStatusMsg('Starting...');\n\n      let products: Product[] = [];\n\n      switch (activeTab) {\n        case 'pdf-catalogue':\n          if (!selectedFile) throw new Error('No file selected');\n          if (!preSelectedCategory) throw new Error('Please select a category');\n          products = await processPDF(selectedFile, preSelectedCategory as Category, setStatusMsg);\n          break;\n\n        case 'csv':\n          if (!selectedFile) throw new Error('No file selected');\n          if (!preSelectedCategory) throw new Error('Please select a category');\n          products = await processCSV(selectedFile, preSelectedCategory, setStatusMsg);\n          break;\n\n        case 'product-image':\n          if (!selectedFile) throw new Error('No file selected');\n          if (!preSelectedCategory) throw new Error('Please select a category');\n          products = await processImage(selectedFile, preSelectedCategory, imageAdditionalText, setStatusMsg);\n          break;\n\n        case 'manual-codes':\n          if (!preSelectedCategory) throw new Error('Please select a category');\n          products = await processSKU({ sku: searchSKU, barcode: searchBarcode, ean: searchEAN, text: searchText }, preSelectedCategory, setStatusMsg);\n          break;\n\n        case 'website-url':\n          if (!textInput.trim()) throw new Error('No URL entered');\n          if (!preSelectedCategory) throw new Error('Please select a category');\n          products = await processURL(textInput, preSelectedCategory, setStatusMsg);\n          break;\n\n        case 'free-text':\n          if (!textInput.trim()) throw new Error('No text entered');\n          if (!preSelectedCategory) throw new Error('Please select a category');\n          products = await processFreeText(textInput, preSelectedCategory, setStatusMsg);\n          break;\n      }\n\n      const productsWithIds = products.map((p, idx) => ({ ...p, id: p.id || `${p.sku || 'product'}-${Date.now()}-${idx}` }));\n      setEditingProducts(productsWithIds);\n      setStep('complete');\n      setStatusMsg(`Successfully processed ${productsWithIds.length} product${productsWithIds.length === 1 ? '' : 's'}!`);\n    } catch (err) {\n      console.error('Processing error:', err);\n      setStep('input');\n      setStatusMsg('');\n      alert(`Error: ${toMessage(err)}`);\n    }\n  };\n\n  const handleExport = () => exportToCSV(editingProducts);\n\n  const handleReset = () => {\n    setStep('input');\n    setSelectedFile(null);\n    setTextInput('');\n    setImageAdditionalText('');\n    setStatusMsg('');\n    setEditingProducts([]);\n    setPreSelectedCategory('');\n    setSearchSKU('');\n    setSearchBarcode('');\n    setSearchEAN('');\n    setSearchText('');\n    if (fileInputRef.current) fileInputRef.current.value = '';\n  };\n\n  const updateProductName = (id: string, name: string) => {\n    setEditingProducts(prev => prev.map(p => (p.id === id ? { ...p, name } : p)));\n  };\n\n  const updateProductSKU = (id: string, sku: string) => {\n    setEditingProducts(prev => prev.map(p => (p.id === id ? { ...p, sku } : p)));\n  };\n\n  const updateProductCategory = (id: string, category: string) => {\n    setEditingProducts(prev => prev.map(p => (p.id === id ? { ...p, category } : p)));\n  };\n\n  const updateProductDescription = (id: string, field: keyof Product['descriptions'], value: string) => {\n    setEditingProducts(prev =>\n      prev.map(p => p.id === id ? { ...p, descriptions: { ...p.descriptions, [field]: value } as Product['descriptions'] } : p)\n    );\n  };\n\n  const regenerateProduct = async (id: string) => {\n    const product = editingProducts.find(p => p.id === id);\n    if (!product || !product.category) {\n      alert('Please select a category first');\n      return;\n    }\n\n    try {\n      setStatusMsg(`Regenerating product ${product.name || product.sku}...`);\n      \n      const bv = await postJson('generate-brand-voice', { \n        products: [product], \n        category: product.category \n      }, 120000);\n      \n      const voiced = Array.isArray(bv?.products) ? bv.products[0] : null;\n      \n      if (voiced) {\n        setEditingProducts(prev => \n          prev.map(p => p.id === id ? { ...voiced, id } : p)\n        );\n        setStatusMsg('Product regenerated successfully!');\n        setTimeout(() => setStatusMsg(''), 3000);\n      }\n    } catch (err) {\n      alert(`Regeneration failed: ${toMessage(err)}`);\n    }\n  };\n  \n  const tabs: { key: Tab; label: string; icon: string }[] = [\n    { key: 'pdf-catalogue', label: 'PDF Catalogue', icon: 'üìÑ' },\n    { key: 'csv', label: 'CSV Upload', icon: 'üìä' },\n    { key: 'product-image', label: 'Product Image', icon: 'üì∏' },\n    { key: 'manual-codes', label: 'Search Code', icon: 'üîç' },\n    { key: 'website-url', label: 'Website URL', icon: 'üåê' },\n    { key: 'free-text', label: 'Free Text', icon: 'üìù' },\n  ];\n\n  const isFileTab = ['pdf-catalogue', 'csv', 'product-image'].includes(activeTab);\n\n  const canProcess = (() => {\n    if (activeTab === 'pdf-catalogue' || activeTab === 'product-image') return !!selectedFile && !!preSelectedCategory;\n    if (activeTab === 'csv') return !!selectedFile && !!preSelectedCategory;\n    if (activeTab === 'manual-codes') return !!(searchSKU.trim() || searchBarcode.trim() || searchEAN.trim() || searchText.trim()) && !!preSelectedCategory;\n    if (activeTab === 'website-url') return !!textInput.trim() && !!preSelectedCategory;\n    if (activeTab === 'free-text') return !!textInput.trim() && !!preSelectedCategory;\n    return false;\n  })();\n\n  return (\n    <div style={{ maxWidth: '1000px', margin: '0 auto', padding: '2rem', fontFamily: 'system-ui, sans-serif' }}>\n      {/* Eva Header with Logo */}\n      <div style={{ textAlign: 'center', marginBottom: '3rem' }}>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '1rem', marginBottom: '1rem' }}>\n          <img\n            src=\"/eva.png\"\n            alt=\"Eva Robot\"\n            style={{\n              width: '80px',\n              height: '80px',\n              objectFit: 'contain'\n            }}\n            onError={(e) => { \n              (e.currentTarget as HTMLImageElement).style.display = 'none';\n            }}\n          />\n          <div>\n            <h1 style={{ fontSize: '2.5rem', margin: 0, color: '#2c3e50' }}>Eva</h1>\n            <p style={{ fontSize: '1.2rem', color: '#7f8c8d', margin: '0.5rem 0 0' }}>Enhanced Virtual Assistant</p>\n          </div>\n        </div>\n        <p style={{ fontSize: '1.1rem', color: '#555' }}>\n          Upload your product data and generate professional descriptions with brand voice\n        </p>\n      </div>\n\n      {step === 'input' && (\n        <>\n          <div style={{ display: 'flex', gap: '8px', marginBottom: '1.5rem', flexWrap: 'wrap' }}>\n            {tabs.map((tab) => (\n              <button\n                key={tab.key}\n                onClick={() => {\n                  setActiveTab(tab.key);\n                  setSelectedFile(null);\n                  setTextInput('');\n                  setImageAdditionalText('');\n                  if (activeTab === 'manual-codes') {\n                    setSearchSKU('');\n                    setSearchBarcode('');\n                    setSearchEAN('');\n                    setSearchText('');\n                  }\n                  setPreSelectedCategory('');\n                  if (fileInputRef.current) fileInputRef.current.value = '';\n                }}\n                style={{\n                  padding: '10px 16px',\n                  border: activeTab === tab.key ? '2px solid #3498db' : BORDER_THIN,\n                  background: activeTab === tab.key ? '#e3f2fd' : 'white',\n                  borderRadius: '6px',\n                  cursor: 'pointer',\n                  fontWeight: activeTab === tab.key ? 600 : 400,\n                  color: activeTab === tab.key ? '#2c3e50' : '#666',\n                  transition: 'all 0.2s ease',\n                  fontSize: '0.95rem',\n                }}\n              >\n                {tab.icon} {tab.label}\n              </button>\n            ))}\n          </div>\n\n          <CategorySelect id=\"pre-category\" value={preSelectedCategory} onChange={(val) => setPreSelectedCategory(val as Category | '')} />\n\n          <div style={{ marginTop: '1.5rem' }}>\n            {isFileTab && (\n              <>\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept={activeTab === 'pdf-catalogue' ? 'application/pdf' : activeTab === 'csv' ? '.csv' : 'image/*'}\n                  onChange={handleFileChange}\n                  style={{ display: 'none' }}\n                  id=\"file-upload\"\n                />\n                <label htmlFor=\"file-upload\" style={{ display: 'block', padding: '3rem', border: '2px dashed #bdc3c7', borderRadius: '8px', textAlign: 'center', cursor: 'pointer', background: selectedFile ? '#ecf0f1' : '#f9f9f9', transition: 'all 0.2s ease' }}>\n                  <div style={{ fontSize: '3rem', marginBottom: '0.5rem' }}>üì§</div>\n                  <p style={{ fontSize: '1.1rem', marginBottom: '0.5rem', color: '#2c3e50', fontWeight: 500 }}>\n                    {selectedFile ? `Selected: ${selectedFile.name}` : 'Click to upload or drag and drop'}\n                  </p>\n                  <p style={{ fontSize: '0.9rem', color: '#7f8c8d' }}>\n                    {activeTab === 'pdf-catalogue' && 'PDF files up to 50MB'}\n                    {activeTab === 'csv' && 'CSV files'}\n                    {activeTab === 'product-image' && 'JPG, PNG, or other image formats'}\n                  </p>\n                </label>\n                \n                {activeTab === 'product-image' && (\n                  <div style={{ marginTop: '1rem' }}>\n                    <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Additional Product Information (optional):</label>\n                    <textarea value={imageAdditionalText} onChange={(e) => setImageAdditionalText(e.target.value)} placeholder=\"Add any extra product details, features, or specifications not visible in the image...\" rows={4} style={{ ...INPUT_BASE, resize: 'vertical' }} />\n                  </div>\n                )}\n              </>\n            )}\n\n            {!isFileTab && activeTab === 'manual-codes' && (\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n                <p style={{ fontSize: '0.95rem', color: '#666', marginBottom: '0.5rem' }}>Enter at least one search criterion to find products:</p>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>SKU:</label>\n                  <input type=\"text\" value={searchSKU} onChange={(e) => setSearchSKU(e.target.value)} placeholder=\"e.g., SKU123\" style={{ ...INPUT_BASE }} />\n                </div>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Barcode:</label>\n                  <input type=\"text\" value={searchBarcode} onChange={(e) => setSearchBarcode(e.target.value)} placeholder=\"e.g., 1234567890123\" style={{ ...INPUT_BASE }} />\n                </div>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>EAN:</label>\n                  <input type=\"text\" value={searchEAN} onChange={(e) => setSearchEAN(e.target.value)} placeholder=\"e.g., 5012345678900\" style={{ ...INPUT_BASE }} />\n                </div>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Text Search:</label>\n                  <input type=\"text\" value={searchText} onChange={(e) => setSearchText(e.target.value)} placeholder=\"e.g., product name or description\" style={{ ...INPUT_BASE }} />\n                </div>\n              </div>\n            )}\n\n           {!isFileTab && activeTab !== 'manual-codes' && (\n  <>\n    <textarea \n      value={textInput} \n      onChange={(e) => setTextInput(e.target.value)} \n      placeholder={activeTab === 'website-url' ? 'Enter product URL\\nExample: http://example.com/product/12345' : 'Enter product description or details...'} \n      rows={8} \n      style={{ ...INPUT_BASE, resize: 'vertical' }} \n    />\n    {activeTab === 'website-url' && (\n      <p style={{ fontSize: '0.85rem', color: '#e67e22', marginTop: '0.5rem', lineHeight: '1.4' }}>\n        ‚ö†Ô∏è <strong>Note:</strong> Some websites block automated scraping for security. \n        If scraping fails, please use the <strong>Free Text</strong> tab to paste product details manually.\n      </p>\n    )}\n  </>\n)}\n           </div>\n\n          <button onClick={handleProcess} disabled={!canProcess} style={{ marginTop: '1.5rem', padding: '12px 32px', border: 'none', borderRadius: '6px', background: canProcess ? '#27ae60' : '#bdc3c7', color: '#fff', cursor: canProcess ? 'pointer' : 'not-allowed', fontSize: '1rem', fontWeight: 600, transition: 'all 0.2s ease' }}>\n            Process\n          </button>\n        </>\n      )}\n\n      {step === 'processing' && (\n        <>\n          <div style={{ marginBottom: '1.5rem', display: 'flex', gap: '1rem' }}>\n            <button onClick={handleExport} disabled={!editingProducts.length} style={{ background: '#2c3e50', color: 'white', border: 'none', padding: '10px 16px', borderRadius: '6px', cursor: editingProducts.length ? 'pointer' : 'not-allowed', fontWeight: 600 }}>\n              Export CSV\n            </button>\n            <button onClick={handleReset} style={{ background: '#e0e0e0', color: '#2c3e50', border: 'none', padding: '10px 16px', borderRadius: '6px', cursor: 'pointer', fontWeight: 600 }}>\n              Reset\n            </button>\n          </div>\n\n          <div style={{ color: '#27ae60', marginBottom: '1rem', fontSize: '1.1rem', fontWeight: 500 }}>‚úì {statusMsg}</div>\n\n          {editingProducts.map((product, idx) => (\n            <div key={product.id} style={{ border: BORDER_THIN, borderRadius: '8px', padding: '1.5rem', marginBottom: '1.5rem', background: '#f9f9f9' }}>\n              <h3 style={{ marginTop: 0, marginBottom: '1rem', color: '#333' }}>Product {idx + 1}</h3>\n              <div style={{ display: 'grid', gap: '1rem' }}>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Name:</label>\n                  <input type=\"text\" value={product.name} onChange={(e) => updateProductName(product.id, e.target.value)} style={{ ...INPUT_BASE }} />\n                </div>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>SKU:</label>\n                  <input type=\"text\" value={product.sku} onChange={(e) => updateProductSKU(product.id, e.target.value)} style={{ ...INPUT_BASE }} />\n                </div>\n                <div>\n                  <CategorySelect id={`category-${product.id}`} value={product.category} onChange={(val) => updateProductCategory(product.id, val)} />\n                  <button \n                    onClick={() => regenerateProduct(product.id)} \n                    style={{ \n                      marginTop: '0.5rem',\n                      padding: '8px 16px', \n                      background: '#3498db', \n                      color: 'white', \n                      border: 'none', \n                      borderRadius: '4px', \n                      cursor: 'pointer', \n                      fontWeight: 600,\n                      fontSize: '0.9rem'\n                    }}\n                  >\n                    üîÑ Regenerate with Category\n                  </button>\n                </div>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Short Description:</label>\n                  <textarea value={product.descriptions?.shortDescription || ''} onChange={(e) => updateProductDescription(product.id, 'shortDescription', e.target.value)} rows={3} style={{ ...INPUT_BASE, resize: 'vertical' }} />\n                </div>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Meta Description:</label>\n                  <textarea value={product.descriptions?.metaDescription || ''} onChange={(e) => updateProductDescription(product.id, 'metaDescription', e.target.value)} rows={2} style={{ ...INPUT_BASE, resize: 'vertical' }} />\n                </div>\n                <div>\n                  <label style={{ fontWeight: 500, display: 'block', marginBottom: '4px' }}>Long Description:</label>\n                  <textarea value={product.descriptions?.longDescription || ''} onChange={(e) => updateProductDescription(product.id, 'longDescription', e.target.value)} rows={6} style={{ ...INPUT_BASE, resize: 'vertical' }} />\n                </div>\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default UniversalUploader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}